!function(e){function t(t){for(var l,i,u=t[0],s=t[1],c=t[2],d=0,M=[];d<u.length;d++)i=u[d],n[i]&&M.push(n[i][0]),n[i]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);for(o&&o(t);M.length;)M.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],l=!0,u=1;u<a.length;u++){var s=a[u];0!==n[s]&&(l=!1)}l&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var l={},n={3:0},r=[];function i(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=l,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var o=s;r.push([838,1,0]),a()}({1:function(e,t){e.exports=window.React},520:function(e,t){e.exports="/assets/images/d6d093d6.default.png"},521:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ3LjEgKDQ1NDIyKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Hcm91cCA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IkFudC1EZXNpZ24tUHJvLTMuMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWNoeeJh+WIl+ihqCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI4OC4wMDAwMDAsIC0yMjMuMDAwMDAwKSIgZmlsbD0iIzE4OTBGRiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC05IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODguMDAwMDAwLCAyMjIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuW/q+mAnyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDAuMDQ4ODYyKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMTgiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC4wMzg4MjkzLDkuMTQzODQ0MzkgTDE1LjMyMDQzMDIsMTcuNjc5MDkwNiBDMTUuMTg2NTUwNywxNy45MjEzNDY4IDE1LjA2NDc4NTUsMTguMTQwNjYyIDE0Ljk3NTYzNiwxOC4zMDAzMzA4IEMxNC43OTU3ODQsMTguNjIyNDIxMyAxNC40NjA5Mjk5LDE5LjIyMTMzMjMgMTMuNzA2NzMxNSwxOS4wNDU3NTc4IEMxMy41ODA5MjgyLDE5LjAxNjM5MzQgMTMuNDYyNTgsMTguOTYzNzgyMiAxMy4zNTY2NTY3LDE4Ljg5MDk4MyBDMTMuMzA4ODIwNCwxOC44NTczMzY0IDEzLjI2NDQwMSwxOC44MjE1NDg1IDEzLjIyMzcwOTEsMTguNzgxNzg0MyBDMTMuMDg1NzkxNCwxOC42ODM5MDMgMTIuODIyNjkxOCwxOC40OTg1NDAzIDEyLjUyMTY5NTgsMTguMjg4NDAxNSBMMTEuMDIxOTk2NiwxNy4yMzg2MjUgQzEwLjkzNTY0MjgsMTcuMTc4MzY2OCAxMC44Mjk0MDg5LDE3LjEwNDY1IDEwLjcyMTYyMTksMTcuMDI5NzA5NiBDMTAuNjA0NTE2MSwxNy4zODA4NTg3IDEwLjM1ODgxMTUsMTcuNjIxMjc5NSAxMC4yNDk0NzE0LDE3LjcyMzc0OSBDOC44MTkwNDE2NCwxOS4xMzUwNzQ1IDguNTU5NjY5NDcsMTkuMzg5NTY1NyA3LjkyNzg1NzUsMTkuMjQyNDM4IEM3LjUxODE0MjY2LDE5LjE0NzAwMzcgNy4yMDUzNDI5MywxOC44MDE2NjY0IDcuMTQ5NDMwMzcsMTguMzkyMDk0NSBDNy4xMjY0NDQwOCwxOC4yMjY2MTQgNi44OTQ0MDY5NiwxNy4wMjUxMjE0IDYuNjgyODcxMSwxNS45NTk0MzkyIEM2LjY4MDY5NjcyLDE1Ljk0OTM0NTIgNi42Nzg4MzI5OCwxNS45Mzk1NTcgNi42NzcyNzk4NCwxNS45MjkxNTcyIEM2LjU2ODI1MDM0LDE1LjI3MjQzNSA2LjcxNTc5NzM4LDE0LjcyMDMyMzUgNy4wOTMyMDcxOCwxNC4zNzU1OTggQzcuMTE4MzY3ODMsMTQuMzUyNjU3IDcuMTQ3ODc3MjQsMTQuMzM4MjgwNyA3LjE3NDI4MDQsMTQuMzE3Nzg2OCBDNy4xMjA1NDIyMSwxNC4zMDc5OTg3IDcuMDY2NDkzNCwxNC4zMDI0OTI5IDcuMDEzMDY1ODQsMTQuMjg5OTUxOSBDNi42NzEwNjczMywxNC4yMTA0MjMzIDYuMzY2NjU0NDksMTQuMDgwMTE4OSA2LjEwOTE0NjA2LDEzLjkwMzYyNjcgTDQuNzUxMDkyMSwxMi45NzM0NDg5IEMzLjk1ODk5NzQ1LDEyLjQyOTU5NjEgMy45ODUwODk5OCwxMS43NjMwODU5IDQuMDMzMjM2OTIsMTEuNTAxMjUzNSBDNC4wODEzODM4NSwxMS4yNDAwMzI4IDQuMjk0MTYyMjEsMTAuNjA3MTY5MyA1LjIyOTc2NTc2LDEwLjM3MTk0ODQgTDE4LjM5MjUxNDksNy4wNzE1MTQ0OSBDMTguNzAxNTg3MSw2Ljk5MzgyMTIzIDE4Ljk5MjAyMTgsNi45ODU1NjI1MSAxOS4yNTU0MzIxLDcuMDQ3MDQ0MTggQzE5LjY2MzI4MzIsNy4xNDIxNzI1NCAxOS45OTI1NDYxLDcuNDA0NjE2NjcgMjAuMTU4MTA5NCw3Ljc2Njc3NzM1IEMyMC4yNjYyMDcsOC4wMDQ0NDUzIDIwLjM5NDgwNTksOC40OTkzNTc0NCAyMC4wMzg4MjkzLDkuMTQzODQ0MzkgWiBNNy42Nzk2Njc4NywxNS43NzA0MDYgQzcuNjc5NjY3ODcsMTUuNzcwNDA2IDguMTIyOTMwMjUsMTguMDAyNzEwNiA4LjE1NjQ3Nzc5LDE4LjI2NzkwNzYgQzguMTU3MDk5MDUsMTguMjcwMzU0NyA4LjE1ODAzMDkxLDE4LjI3MTU3ODIgOC4xNjAyMDUyOSwxOC4yNzIxODk5IEM4LjI0MDM0NjY0LDE4LjI5MDg0ODYgOS41Mzg0NDk5NiwxNy4wMDk4Mjc1IDkuNTM4NDQ5OTYsMTcuMDA5ODI3NSBDOS45NDMxOTQ3OSwxNi42MzI5ODQ2IDkuNzkxMjk5LDE2LjQ4Njc3NDUgOS4zMDQyMzg0NCwxNi4wNjg5NDM4IEw5LjI0NTIxOTYyLDE2LjAxOTA4NTYgTDkuMjExMzYxNDYsMTUuOTk2MTQ0NyBDOS4wODAyNzc1NSwxNS45MDc3NDU2IDguOTY1NjU2OCwxNS44MDY4MDU2IDguODY1MDE0MTksMTUuNjk3OTEyNyBMOC4yMzI4OTE2LDE1LjE2MzIzNjMgQzguMTUxMTk3MTMsMTUuMTA1NzMxIDguMDc3ODg5NTUsMTUuMDcwODYwOCA4LjAxMzI3OTQ3LDE1LjA1NTg3MjcgQzcuNzE5MTE3MywxNC45ODcwNSA3LjYwNTQyODQzLDE1LjMyNTk2MzkgNy42Nzk2Njc4NywxNS43NzA0MDYgWiBNMTkuMDIyNzczNyw4LjAxNzI5MjIxIEMxOC45MjQ2MTYxLDcuOTk0MzUxMjkgMTguNzk3ODgxLDcuOTk5NTUxMjMgMTguNjQ2Mjk1OCw4LjAzNzQ4MDIzIEw1LjQ4MjkyNTQyLDExLjMzODUyNTkgQzQuOTQxNTA1NDQsMTEuNDc0OTQ3OSA0Ljg3NDQxMDM2LDExLjg0MjAwMjYgNS4zMzIyNzIxMywxMi4xNTY3NTIxIEw2LjY4OTA4MzY2LDEzLjA4NjAxMjMgQzYuODQ0Mzk2MzMsMTMuMTkyNDU4MiA3LjAzNzkxNTkzLDEzLjI3MTA2OTEgNy4yNDU0MTM2NiwxMy4zMTkzOTggQzcuNjUwNDY5MTEsMTMuNDEzNjA4NyA4LjEwOTg4NDAxLDEzLjM5MzQyMDcgOC40NDU2NzAwMSwxMy4yNDIzMTY1IEM4LjQ0NTY3MDAxLDEzLjI0MjMxNjUgMTYuNTA2Mzk3OCw5LjU3ODQ5ODQgMTYuNTQyNDMwNCw5LjU4Njc1NzEzIEMxNi41ODcxNjA0LDkuNTk3MTU3MDIgOS43OTQwOTQ2MywxNC4wNTg3MDc0IDkuNzk0MDk0NjMsMTQuMDU4NzA3NCBDOS40MDc2NzY2OSwxNC4zMDk4MzQgOS4zNDM5OTg1LDE0LjY5NzM4MjYgOS41OTUyOTQ0LDE0Ljk5OTU5MSBMOS44NjgwMjM0NywxNS4yMzAyMjM4IEw5Ljk0NDEyNjY3LDE1LjI4MTkxNzMgQzEwLjQwNDc4NDEsMTUuNTkyMzg0NSAxMS4xNTQwMTI0LDE2LjEwODQwMjIgMTEuNjA5Mzg5MiwxNi40MjY1MTY0IEwxMy4xMTAwMjAyLDE3LjQ3NjI5MjkgQzEzLjU2NTcwNzYsMTcuNzk0NDA3IDEzLjkzNzgzNjgsMTguMDU3MTU3IDEzLjkzNzUyNjIsMTguMDYwMjE1OCBDMTMuOTQyNDk2MiwxOC4wNzUyMDM5IDE0LjE2MTc5NzcsMTcuNjgyNzYxMiAxNC40Mjc2OTMsMTcuMjAxNjEzNiBMMTkuMTQ2MDkyLDguNjY2MzY3MzUgQzE5LjMzNzQzNzIsOC4zMTk1MDA2MiAxOS4yNzQ2OTA5LDguMDc2MDIwOTcgMTkuMDIyNzczNyw4LjAxNzI5MjIxIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiwyNC45NTExMzc3IEM1LjM3MjU4MywyNC45NTExMzc3IDAsMTkuNTc4NTU0NyAwLDEyLjk1MTEzNzcgQzAsNi4zMjM3MjA2OCA1LjM3MjU4MywwLjk1MTEzNzY3MyAxMiwwLjk1MTEzNzY3MyBDMTguNjI3NDE3LDAuOTUxMTM3NjczIDI0LDYuMzIzNzIwNjggMjQsMTIuOTUxMTM3NyBDMjQsMTkuNTc4NTU0NyAxOC42Mjc0MTcsMjQuOTUxMTM3NyAxMiwyNC45NTExMzc3IFogTTEyLDIzLjk5MTEzNzcgQzE4LjA5NzIyMzYsMjMuOTkxMTM3NyAyMy4wNCwxOS4wNDgzNjEzIDIzLjA0LDEyLjk1MTEzNzcgQzIzLjA0LDYuODUzOTE0MDQgMTguMDk3MjIzNiwxLjkxMTEzNzY3IDEyLDEuOTExMTM3NjcgQzUuOTAyNzc2MzYsMS45MTExMzc2NyAwLjk2LDYuODUzOTE0MDQgMC45NiwxMi45NTExMzc3IEMwLjk2LDE5LjA0ODM2MTMgNS45MDI3NzYzNiwyMy45OTExMzc3IDEyLDIzLjk5MTEzNzcgWiIgaWQ9Ik92YWwtOCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},522:function(e,t){e.exports="/assets/images/95abb23f.project.png"},523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=g(a(64)),n=g(a(2)),r=g(a(24)),i=g(a(5)),u=g(a(9)),s=g(a(4)),c=g(a(6)),o=g(a(101)),d=g(a(60));a(63),a(146),a(58);var M=g(a(1)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(43));function g(e){return e&&e.__esModule?e:{default:e}}var N=d.default.Item,I=o.default.Option,D=d.default.create()(function(e){function t(){var e,a,l,n;(0,i.default)(this,t);for(var u=arguments.length,c=Array(u),o=0;o<u;o++)c[o]=arguments[o];return a=l=(0,s.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),l.state={serverList:[],loading:!1},l.getServerData=function(){l.setState({loading:!0}),f.getServerSelectList({payload:{}}).then(function(e){var t=[];e.list.forEach(function(e){t.push(M.default.createElement(I,{value:e.id},e.host))}),l.setState({serverList:t,loading:!1})})},l.resetForm=function(){l.props.form.resetFields()},n=a,(0,s.default)(l,n)}return(0,c.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.getServerData()}},{key:"render",value:function(){var e=this.state,t=e.serverList,a=e.loading,r=this.props,i=r.visible,u=r.onCancel,s=r.onSelect,c=r.form,f=r.data,g=c.getFieldDecorator;return M.default.createElement(l.default,{visible:i,title:"选择服务器",okText:"发布",cancelText:"取消",width:400,onCancel:u,onOk:s,afterClose:this.resetForm},M.default.createElement(d.default,{layout:"horizontal"},M.default.createElement(N,{style:{display:"none"}},g("projectId",{initialValue:f.id})),M.default.createElement(N,{style:{display:"none"}},g("name",{initialValue:f.name})),M.default.createElement(N,(0,n.default)({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{label:"选择服务器"}),g("serverId",{rules:[{required:!0,message:"服务器不能为空!"}]})(M.default.createElement(o.default,{showSearch:!0,style:{width:200},placeholder:"请选择服务器",optionFilterProp:"children",loading:a},t)))))}}]),t}(M.default.Component));t.default=D},524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=m(a(64)),n=m(a(98)),r=m(a(2)),i=m(a(12)),u=m(a(73)),s=m(a(24)),c=m(a(5)),o=m(a(9)),d=m(a(4)),M=m(a(6)),f=m(a(75)),g=m(a(70)),N=m(a(60));a(63),a(87),a(36),a(74),a(49),a(58);var I=m(a(1)),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(43));function m(e){return e&&e.__esModule?e:{default:e}}var j=N.default.Item,T=g.default.TextArea;function z(e){var t=e.size/1024/1024<30;return t||f.default.error("文件不能大于 30MB!"),t}var C=N.default.create()(function(e){function t(){var e,a,l,n;(0,c.default)(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=l=(0,d.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),l.state={fileList:[],loading:!1,imageUrl:"",previewImage:"",previewVisible:!1},l.renderFileList=function(e){e.icon?l.setState({fileList:[{uid:e.id,name:"图标",status:"done",url:e.icon}]}):l.setState({fileList:[]})},l.handleCancel=function(){return l.setState({previewVisible:!1})},l.handlePreview=function(e){l.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},l.onChangeFile=function(e){var t=l.props.form;"uploading"===e.file.status&&l.setState({loading:!0}),"done"===e.file.status?(f.default.success(e.file.name+" 文件上传成功"),t.setFieldsValue({fileId:e.file.response.result.fileId}),function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(t){return l.setState({imageUrl:t,fileList:e.fileList,loading:!1})})):"error"===e.file.status&&f.default.error(e.file.name+" 文件上传失败"),l.setState({fileList:e.fileList})},l.onRemoveFile=function(){return new u.default(function(e){l.setState({fileList:[]},function(){e([])})})},l.resetForm=function(){l.props.form.resetFields()},n=a,(0,d.default)(l,n)}return(0,M.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.data;t.visible!==e.visible&&this.renderFileList(a)}},{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.loading,u=e.previewVisible,s=e.previewImage,c=this.props,o=c.visible,d=c.onCancel,M=c.onCreate,f=c.form,m=c.data,C=f.getFieldDecorator,y={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},p=I.default.createElement("div",null,I.default.createElement(i.default,{type:a?"loading":"plus"}),I.default.createElement("div",{className:"ant-upload-text"},"上传"));return I.default.createElement(l.default,{visible:o,centered:!0,style:{top:10},title:"编辑项目",okText:"保存",cancelText:"取消",width:500,onCancel:d,onOk:M,afterClose:this.resetForm},I.default.createElement(N.default,{layout:"horizontal"},I.default.createElement(j,{style:{display:"none"}},C("id",{initialValue:m.id})),I.default.createElement(j,{style:{display:"none"}},C("fileId")),I.default.createElement(j,(0,r.default)({},y,{label:"项目名称"}),C("name",{rules:[{required:!0,message:"项目名称不能为空!"}],initialValue:m.name})(I.default.createElement(g.default,{placeholder:"项目名称",style:{width:250}}))),I.default.createElement(j,(0,r.default)({},y,{label:"项目描述"}),C("description",{initialValue:m.description})(I.default.createElement(T,{placeholder:"项目描述",rows:2,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},y,{label:"项目本地路径"}),C("localPath",{rules:[{required:!0,message:"本地路径不能为空!"}],initialValue:m.localPath})(I.default.createElement(T,{placeholder:"本地路径",rows:3,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},y,{label:"项目远程路径"}),C("remotePath",{rules:[{required:!0,message:"远程路径不能为空!"}],initialValue:m.remotePath})(I.default.createElement(T,{placeholder:"远程路径",rows:3,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},y,{label:"项目图标"}),I.default.createElement("div",{className:"clearfix"},I.default.createElement(n.default,{name:"file",withCredentials:!0,action:D.uploadFile(),listType:"picture-card",beforeUpload:z,onChange:this.onChangeFile,onRemove:this.onRemoveFile,onPreview:this.handlePreview,fileList:t},t.length>=1?null:p),I.default.createElement(l.default,{wrapClassName:"vertical-center-modal",visible:u,footer:null,onCancel:this.handleCancel},I.default.createElement("img",{alt:"预览",style:{width:"100%"},src:s}))))))}}]),t}(I.default.Component));t.default=C},671:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=m(a(64)),n=m(a(98)),r=m(a(2)),i=m(a(12)),u=m(a(73)),s=m(a(24)),c=m(a(5)),o=m(a(9)),d=m(a(4)),M=m(a(6)),f=m(a(75)),g=m(a(70)),N=m(a(60));a(63),a(87),a(36),a(74),a(49),a(58);var I=m(a(1)),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(43));function m(e){return e&&e.__esModule?e:{default:e}}var j=N.default.Item,T=g.default.TextArea;function z(e){var t=e.size/1024/1024<30;return t||f.default.error("文件不能大于 30MB!"),t}var C=N.default.create()(function(e){function t(){var e,a,l,n;(0,c.default)(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=l=(0,d.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),l.state={fileList:[],loading:!1,imageUrl:"",previewImage:"",previewVisible:!1},l.handleCancel=function(){return l.setState({previewVisible:!1})},l.handlePreview=function(e){l.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},l.onChangeFile=function(e){var t=l.props.form;"uploading"===e.file.status&&l.setState({loading:!0}),"done"===e.file.status?(f.default.success(e.file.name+" 文件上传成功"),t.setFieldsValue({fileId:e.file.response.result.fileId}),function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(t){return l.setState({imageUrl:t,fileList:e.fileList,loading:!1})})):"error"===e.file.status&&f.default.error(e.file.name+" 文件上传失败"),l.setState({fileList:e.fileList})},l.onRemoveFile=function(){return new u.default(function(e){l.setState({fileList:[]},function(){e([])})})},l.resetForm=function(){l.props.form.resetFields(),l.setState({fileList:[]})},n=a,(0,d.default)(l,n)}return(0,M.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.loading,u=e.previewVisible,s=e.previewImage,c=this.props,o=c.visible,d=c.onCancel,M=c.onCreate,f=c.form.getFieldDecorator,m={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},C=I.default.createElement("div",null,I.default.createElement(i.default,{type:a?"loading":"plus"}),I.default.createElement("div",{className:"ant-upload-text"},"上传"));return I.default.createElement(l.default,{visible:o,centered:!0,style:{top:10},title:"添加项目",okText:"添加",cancelText:"取消",width:500,onCancel:d,onOk:M,afterClose:this.resetForm},I.default.createElement(N.default,{layout:"horizontal"},I.default.createElement(j,{style:{display:"none"}},f("fileId")),I.default.createElement(j,(0,r.default)({},m,{label:"项目名称"}),f("name",{rules:[{required:!0,message:"项目名称不能为空!"}]})(I.default.createElement(g.default,{placeholder:"项目名称",style:{width:250}}))),I.default.createElement(j,(0,r.default)({},m,{label:"项目描述"}),f("description")(I.default.createElement(T,{placeholder:"项目描述",rows:2,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},m,{label:"项目本地路径"}),f("localPath",{rules:[{required:!0,message:"本地路径不能为空!"}]})(I.default.createElement(T,{placeholder:"本地路径",rows:3,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},m,{label:"项目远程路径"}),f("remotePath",{rules:[{required:!0,message:"远程路径不能为空!"}]})(I.default.createElement(T,{placeholder:"远程路径",rows:3,style:{width:250}}))),I.default.createElement(j,(0,r.default)({},m,{label:"项目图标"}),I.default.createElement("div",{className:"clearfix"},I.default.createElement(n.default,{name:"file",withCredentials:!0,action:D.uploadFile(),listType:"picture-card",beforeUpload:z,onChange:this.onChangeFile,onRemove:this.onRemoveFile,onPreview:this.handlePreview,fileList:t},t.length>=1?null:C),I.default.createElement(l.default,{wrapClassName:"vertical-center-modal",visible:u,footer:null,onCancel:this.handleCancel},I.default.createElement("img",{alt:"预览",style:{width:"100%"},src:s}))))))}}]),t}(I.default.Component));t.default=C},707:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=y(a(32)),n=y(a(706)),r=y(a(226)),i=y(a(41)),u=y(a(222)),s=y(a(12)),c=y(a(24)),o=y(a(5)),d=y(a(9)),M=y(a(4)),f=y(a(6));a(34),a(675),a(219),a(218),a(36);var g=a(1),N=y(g),I=y(a(217)),D=y(a(671)),m=y(a(524)),j=y(a(523)),T=y(a(852)),z=y(a(522)),C=(y(a(521)),y(a(520)));function y(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,n;(0,o.default)(this,t);for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=l=(0,M.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),l.state={visibleCreateItem:!1,visibleEditItem:!1,visibleSelectServer:!1,record:{}},l.handleCreateItem=function(){var e=l.props.onCreateItem;l.createItemFormRef.props.form.validateFields(function(t,a){t||(l.setState({visibleCreateItem:!1}),e(a))})},l.cancelCreateItem=function(){l.setState({visibleCreateItem:!1})},l.handleEditItem=function(){var e=l.props.onEditItem;l.editItemFormRef.props.form.validateFields(function(t,a){t||(l.setState({visibleEditItem:!1}),e(a))})},l.cancelEditItem=function(){l.setState({visibleEditItem:!1})},l.handlePublishProject=function(){var e=l.props.onPublishItem;l.selectServerFormRef.props.form.validateFields(function(t,a){t||(l.setState({visibleSelectServer:!1}),e(a))})},l.handlePackageProject=function(e){(0,l.props.onPackageItem)(e)},l.showSelectServer=function(e){l.setState({visibleSelectServer:!0,record:e})},l.cancelSelectServer=function(){l.setState({visibleSelectServer:!1})},l.showCreateItem=function(){l.setState({visibleCreateItem:!0})},l.showEditItem=function(e){l.setState({visibleEditItem:!0,record:e})},l.confirmDeleteItem=function(e){(0,l.props.onDeleteItem)(e)},l.saveCreateItemFormRef=function(e){l.createItemFormRef=e},l.saveEditItemFormRef=function(e){l.editItemFormRef=e},l.saveSelectServerFormRef=function(e){l.selectServerFormRef=e},n=a,(0,M.default)(l,n)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.visibleCreateItem,c=t.visibleEditItem,o=t.visibleSelectServer,d=t.record,M=this.props,f=M.list,y=M.loading,p=N.default.createElement("div",{className:T.default.pageHeaderContent},N.default.createElement("p",null,"在这里添加/配置项目：名称，图标，介绍，本地项目路径，远程发布路径。"),N.default.createElement("div",{className:T.default.contentLink})),E=N.default.createElement("div",{className:T.default.extraImg},N.default.createElement("img",{alt:"",src:z.default}));return N.default.createElement(I.default,{title:"项目配置",content:p,extraContent:E},N.default.createElement(D.default,{wrappedComponentRef:this.saveCreateItemFormRef,visible:a,onCreate:this.handleCreateItem,onCancel:this.cancelCreateItem}),N.default.createElement(m.default,{wrappedComponentRef:this.saveEditItemFormRef,data:d,visible:c,onCreate:this.handleEditItem,onCancel:this.cancelEditItem}),N.default.createElement(j.default,{wrappedComponentRef:this.saveSelectServerFormRef,data:d,visible:o,onSelect:this.handlePublishProject,onCancel:this.cancelSelectServer}),N.default.createElement("div",{className:T.default.cardList},N.default.createElement(n.default,{rowKey:"id",loading:y,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:[""].concat((0,i.default)(f)),renderItem:function(t){return t?N.default.createElement(n.default.Item,{key:t.id},N.default.createElement(r.default,{hoverable:!0,title:N.default.createElement("a",{href:t.previewUrl,target:"_blank",rel:"noopener noreferrer"},t.name),extra:function(t){return N.default.createElement(g.Fragment,null,N.default.createElement(s.default,{type:"edit",theme:"twoTone",style:{fontSize:"16px",marginRight:"15px"},onClick:function(){return e.showEditItem(t)}}),N.default.createElement(u.default,{title:"确定删除该项目？",onConfirm:function(){return e.confirmDeleteItem(t)},okText:"确定",cancelText:"取消"},N.default.createElement(s.default,{type:"delete",theme:"twoTone",twoToneColor:"#f5222d",style:{fontSize:"16px"}})))}(t),className:T.default.card,actions:function(t){return t.isPackaging||t.isPublishing?t.isPackaging&&!t.isPublishing?[N.default.createElement("span",{className:T.default.disabled},"打包中 ..."),N.default.createElement("span",{className:T.default.disabled},"发布")]:!t.isPackaging&&t.isPublishing?[N.default.createElement("span",{className:T.default.disabled},"打包"),N.default.createElement("span",{className:T.default.disabled},"发布中 ...")]:void 0:[N.default.createElement("a",{onClick:function(){return e.handlePackageProject(t)}},"打包"),N.default.createElement("a",{onClick:function(){return e.showSelectServer(t)}},"发布")]}(t)},N.default.createElement(r.default.Meta,{avatar:N.default.createElement("img",{alt:"",className:T.default.cardAvatar,src:t.icon?t.icon:C.default}),title:t.description,description:t.localPath}))):N.default.createElement(n.default.Item,null,N.default.createElement(l.default,{type:"dashed",className:T.default.newButton,onClick:e.showCreateItem},N.default.createElement(s.default,{type:"plus"}),"新增项目"))}})))}}]),t}(g.PureComponent);t.default=p},8:function(e,t){e.exports=window.ReactDOM},838:function(e,t,a){"use strict";var l=j(a(413)),n=j(a(282)),r=j(a(24)),i=j(a(5)),u=j(a(9)),s=j(a(4)),c=j(a(6)),o=j(a(154));a(265),a(264),a(153);var d=j(a(1)),M=j(a(8)),f=j(a(263)),g=j(a(260)),N=j(a(252)),I=j(a(707)),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(43)),m=j(a(187));function j(e){return e&&e.__esModule?e:{default:e}}var T=o.default.Header,z=o.default.Content,C=o.default.Footer,y=function(e){function t(){var e,a,l,u;(0,i.default)(this,t);for(var c=arguments.length,o=Array(c),d=0;d<c;d++)o[d]=arguments[d];return a=l=(0,s.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(o))),l.state={data:[],loading:!1},l.getData=function(){l.setState({loading:!0}),D.getProjectList({payload:{}}).then(function(e){l.setState({loading:!1,data:e.list})})},l.saveData=function(e){l.setState({loading:!0}),D.saveProject({payload:{id:e.id,name:e.name,description:e.description,localPath:e.localPath,remotePath:e.remotePath,fileId:e.fileId}}).then(function(t){l.getData(),1===t.result.status?n.default.success({message:e.id?"保存成功":"新增成功",description:e.name}):n.default.error({message:(e.id?"保存失败":"新增失败")+"："+t.result.errMsg,description:e.name})})},l.packageProject=function(e){l.setState({loading:!0}),D.packageProject({payload:{id:e.id}}).then(function(t){l.getData(),1===t.result.status?n.default.success({message:"启动打包成功",description:"打包 "+e.name+" 需要花费一些时间，请耐心等待"}):n.default.error({message:"启动打包失败："+t.result.errMsg,description:e.name})})},l.publishProject=function(e){l.setState({loading:!0}),D.publishProject({payload:{projectId:e.projectId,serverId:e.serverId}}).then(function(t){l.getData(),1===t.result.status?n.default.success({message:"启动发布成功",description:"发布 "+e.name+" 需要花费一些时间，请耐心等待"}):n.default.error({message:"启动发布失败："+t.result.errMsg,description:e.name})})},l.deleteProject=function(e){l.setState({loading:!0}),D.deleteProject({payload:{id:e.id}}).then(function(t){l.getData(),1===t.result.status?n.default.success({message:"删除成功",description:e.name}):n.default.error({message:"删除失败："+t.result.errMsg,description:e.name})})},u=a,(0,s.default)(l,u)}return(0,c.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.data;return d.default.createElement(l.default,{locale:f.default},d.default.createElement(o.default,null,d.default.createElement(g.default,{store:m.default}),d.default.createElement(o.default,null,d.default.createElement(T,{style:{padding:0}},d.default.createElement(N.default,{store:m.default})),d.default.createElement(z,{style:{margin:"24px 24px 0",height:"100%"}},d.default.createElement(I.default,{onCreateItem:this.saveData,onEditItem:this.saveData,onPackageItem:this.packageProject,onPublishItem:this.publishProject,onDeleteItem:this.deleteProject,loading:t,list:a})),d.default.createElement(C,{style:{textAlign:"center"}},"JMS CI ©2019 Created by Alex"))))}}]),t}(d.default.Component);M.default.render(d.default.createElement(y,null),document.getElementById("app"))},852:function(e,t){e.exports={cardList:"_1J15YqaDnKNzvbP1JNA8ds",card:"_3F_3Kr5cFhGuj8vzyZfqPs",item:"_2Qy60uJhjOiZIbVldO97Yd",extraImg:"_3dsBnbz1m7YydDnNw3usqO",newButton:"_3VTNv9GKebIkD4w5ZAJgCz",cardAvatar:"_1AY6C3Pr4V4g3zl-NCyzE_",pageHeaderContent:"_15ehB_mA9Ld_yjJcSEybtF",contentLink:"_3O3e45chJhvLU6FW0K1Nv5",disabled:"_17erH-2jR9wlwRHbUc83gk"}}});